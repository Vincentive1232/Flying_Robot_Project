# Assignment 4 (Flying Robots, 2024/2025)

Generative and validate an aggressive trajectory, exploiting the differential flatness. For planning, use 8th-order polynomial splines that are smooth up to and including snap. For validation, propagate the actions (force, torque) generated by differential flatness using your simulator and compare the result with the expected values and your controller.

## Deliverables (by Feb. 14, 5pm)

1. Your code.
2. A plot that shows position, velocity, rotation (euler angles), angular velocity, angular acceleration for i) generated reference trajectory (using differential flatness), ii) simulated trajectory using force and torques as computed by differential flatness, iii) simulated controlled trajectory using force and torque as computed by your controller, tracking the reference trajectory.

## Planning Hints

- Use Python and cvxpy, or Clarabel.rs
- Use 3 splines of order 8 for x/y/z (you do not need to plan for yaw), i.e., 3*8*3 decision variables
- Constrain the derivatives to be 0 at the very beginning and very end (velocity up to snap)
- Constraint the smoothness between pieces to be identically (pos up to derivative of snap)
- One interesting example is to start at [0,0,0], end at [0,1,0] and constrain the acceleration at the end of the first piece to be [8.66025404, 0., -4.81] and the position to be at [0,0.5,0]

## Recommended Resources

- Class material and links therein (slides)
